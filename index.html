<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Summit Sourcing Co. ‚Äî Global Sourcing & Manufacturing</title>
<!-- EmailJS SDK -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
  // Initialize EmailJS with your public key
  // Sign up free at https://emailjs.com and replace YOUR_PUBLIC_KEY below
  (function(){
    emailjs.init({ publicKey: "YOUR_PUBLIC_KEY" });
  })();
</script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Barlow:wght@300;400;500&family=Barlow+Condensed:wght@500;600;700&display=swap');
</style>
<!-- Fallback preconnect for faster font loading -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<style>
  :root {
    --bg: #f4f3f0;
    --bg2: #edecea;
    --bg3: #e6e4e0;
    --white: #ffffff;
    --dark: #2c2b28;
    --gold: #b8942a;
    --gold-light: #d4ac46;
    --muted: #7a7870;
    --line: rgba(184,148,42,0.22);
    --line-gray: rgba(44,43,40,0.1);
  }
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  html { scroll-behavior: smooth; }
  body { background: var(--bg); color: var(--dark); font-family: 'Barlow', sans-serif; font-weight: 300; overflow-x: hidden; }

  /* NAV */
  nav { position: fixed; top: 0; left: 0; width: 100%; z-index: 100; padding: 1.5rem 5rem; display: flex; justify-content: space-between; align-items: center; transition: background 0.4s, box-shadow 0.4s; }
  nav.scrolled { background: rgba(244,243,240,0.97); box-shadow: 0 1px 0 var(--line-gray); }
  .nav-logo { font-family: 'Barlow Condensed', sans-serif; font-size: 1.1rem; font-weight: 700; letter-spacing: 0.22em; color: var(--white); text-decoration: none; transition: color 0.4s; }
  nav.scrolled .nav-logo { color: var(--dark); }
  .nav-logo span { color: var(--gold); }
  .nav-links { display: flex; gap: 2.5rem; list-style: none; }
  .nav-links a { font-size: 0.75rem; font-weight: 400; letter-spacing: 0.15em; text-transform: uppercase; color: rgba(255,255,255,0.7); text-decoration: none; transition: color 0.2s; }
  nav.scrolled .nav-links a { color: var(--muted); }
  .nav-links a:hover { color: var(--gold) !important; }

  /* HERO */
  #hero { min-height: 100vh; display: grid; grid-template-columns: 1fr 1fr; position: relative; overflow: hidden; }
  .hero-left { background: #1e1c19; display: flex; flex-direction: column; justify-content: flex-end; padding: 0 4rem 6rem 5rem; position: relative; z-index: 2; }
  .hero-left::after { content: ''; position: absolute; top: 0; right: -1px; bottom: 0; width: 1px; background: var(--gold); opacity: 0.4; }
  .hero-bg-overlay { position: absolute; inset: 0; background: linear-gradient(135deg, rgba(30,28,25,0.92) 0%, rgba(30,28,25,0.75) 100%); z-index: 1; }
  .hero-img-bg { position: absolute; inset: 0; background-image: url('https://images.unsplash.com/photo-1565043589221-1a6fd9ae45c7?w=900&q=80'); background-size: cover; background-position: center; opacity: 0.35; }
  .hero-content { position: relative; z-index: 2; }
  .hero-eyebrow { font-family: 'Barlow Condensed', sans-serif; font-size: 0.7rem; font-weight: 600; letter-spacing: 0.45em; text-transform: uppercase; color: var(--gold); margin-bottom: 1.5rem; opacity: 0; animation: fadeUp 0.8s 0.3s forwards; }
  .hero-title { font-family: 'Cormorant Garamond', serif; font-size: clamp(3.5rem, 6vw, 6.5rem); font-weight: 300; line-height: 0.92; letter-spacing: -0.02em; color: #f5f2ed; opacity: 0; animation: fadeUp 0.9s 0.5s forwards; }
  .hero-title em { font-style: italic; color: var(--gold); }
  .hero-sub { margin-top: 2rem; max-width: 420px; font-size: 0.95rem; font-weight: 300; color: rgba(245,242,237,0.6); line-height: 1.85; opacity: 0; animation: fadeUp 0.9s 0.75s forwards; }
  .hero-cta { margin-top: 3rem; display: flex; gap: 1.5rem; align-items: center; opacity: 0; animation: fadeUp 0.9s 0.95s forwards; }
  .btn-primary { padding: 1rem 2.5rem; background: var(--gold); color: #fff; font-family: 'Barlow Condensed', sans-serif; font-size: 0.8rem; font-weight: 700; letter-spacing: 0.22em; text-transform: uppercase; border: none; cursor: pointer; text-decoration: none; display: inline-block; transition: background 0.2s, transform 0.2s; }
  .btn-primary:hover { background: var(--gold-light); transform: translateY(-2px); }
  .btn-ghost { font-family: 'Barlow Condensed', sans-serif; font-size: 0.8rem; font-weight: 600; letter-spacing: 0.2em; text-transform: uppercase; color: rgba(245,242,237,0.6); text-decoration: none; border-bottom: 1px solid rgba(245,242,237,0.2); padding-bottom: 2px; transition: color 0.2s, border-color 0.2s; }
  .btn-ghost:hover { color: var(--gold); border-color: var(--gold); }
  .hero-right { position: relative; overflow: hidden; }
  .hero-right-img { width: 100%; height: 100%; object-fit: cover; display: block; animation: zoomIn 1.2s 0.2s both; }
  .hero-right-overlay { position: absolute; inset: 0; background: linear-gradient(to right, rgba(30,28,25,0.3) 0%, transparent 50%); }
  .hero-badge { position: absolute; bottom: 3rem; right: 3rem; background: rgba(244,243,240,0.95); padding: 1.5rem 2rem; border-left: 3px solid var(--gold); opacity: 0; animation: fadeUp 0.8s 1.1s forwards; }
  .hero-badge-num { font-family: 'Cormorant Garamond', serif; font-size: 2.5rem; font-weight: 300; color: var(--dark); line-height: 1; }
  .hero-badge-label { font-family: 'Barlow Condensed', sans-serif; font-size: 0.68rem; font-weight: 600; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted); margin-top: 0.3rem; }

  /* TRUST BAR */
  .trust-bar { background: var(--dark); padding: 1.4rem 5rem; display: flex; justify-content: space-between; align-items: center; gap: 2rem; }
  .trust-item { display: flex; align-items: center; gap: 0.75rem; font-family: 'Barlow Condensed', sans-serif; font-size: 0.78rem; font-weight: 600; letter-spacing: 0.15em; text-transform: uppercase; color: rgba(245,242,237,0.65); white-space: nowrap; }
  .trust-item span { color: var(--gold); font-size: 1rem; }
  .trust-dot { width: 4px; height: 4px; border-radius: 50%; background: var(--gold); opacity: 0.4; }

  /* SECTION COMMONS */
  .section-label { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 0.42em; text-transform: uppercase; color: var(--gold); margin-bottom: 1.2rem; }
  .section-heading { font-family: 'Cormorant Garamond', serif; font-size: clamp(2rem, 3.5vw, 3.2rem); font-weight: 300; line-height: 1.12; color: var(--dark); }
  .section-heading em { font-style: italic; color: var(--gold); }
  .divider { height: 1px; background: linear-gradient(90deg, transparent, var(--gold), transparent); margin: 0 5rem; opacity: 0.3; }

  /* ABOUT */
  #about { padding: 9rem 5rem; }
  .about-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5rem; align-items: center; }
  .about-text { font-size: 0.97rem; line-height: 1.88; color: var(--muted); margin-top: 1.5rem; }
  .about-image-block { position: relative; }
  .about-img-main { width: 100%; height: 480px; object-fit: cover; display: block; filter: grayscale(15%); }
  .about-img-accent { position: absolute; bottom: -2.5rem; left: -2.5rem; width: 48%; height: 220px; object-fit: cover; border: 6px solid var(--bg); filter: grayscale(15%); }
  .about-img-tag { position: absolute; top: 2rem; right: -1.5rem; background: var(--gold); color: #fff; font-family: 'Barlow Condensed', sans-serif; font-size: 0.7rem; font-weight: 700; letter-spacing: 0.2em; text-transform: uppercase; padding: 0.6rem 1.2rem; writing-mode: vertical-rl; }
  .about-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 3rem; }
  .stat { border-left: 2px solid var(--gold); padding: 0.4rem 0 0.4rem 1.4rem; }
  .stat-num { font-family: 'Cormorant Garamond', serif; font-size: 2.8rem; font-weight: 300; color: var(--dark); line-height: 1; }
  .stat-label { font-size: 0.73rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-top: 0.3rem; }

  /* VISUAL BREAK */
  .visual-break { height: 55vh; position: relative; overflow: hidden; }
  .visual-break img { width: 100%; height: 100%; object-fit: cover; display: block; filter: grayscale(20%); }
  .visual-break-overlay { position: absolute; inset: 0; background: linear-gradient(to right, rgba(30,28,25,0.82) 0%, rgba(30,28,25,0.2) 60%, transparent 100%); display: flex; align-items: center; padding: 0 5rem; }
  .visual-break-text { font-family: 'Cormorant Garamond', serif; font-size: clamp(2rem, 4vw, 3.8rem); font-weight: 300; color: #f5f2ed; line-height: 1.2; max-width: 600px; }
  .visual-break-text em { font-style: italic; color: var(--gold); }

  /* SERVICES */
  #services { padding: 9rem 5rem; background: var(--bg2); }
  .services-intro { display: grid; grid-template-columns: 1fr 1fr; gap: 5rem; align-items: center; margin-bottom: 5rem; }
  .services-intro-img { width: 100%; height: 380px; object-fit: cover; filter: grayscale(15%); }
  .section-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 4rem; }
  .section-title { font-family: 'Cormorant Garamond', serif; font-size: clamp(2rem, 3.5vw, 3.2rem); font-weight: 300; color: var(--dark); }
  .services-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }
  .service-card { background: var(--white); padding: 2.8rem 2.2rem; border: 1px solid var(--line-gray); position: relative; overflow: hidden; transition: box-shadow 0.3s, transform 0.3s; }
  .service-card::after { content: ''; position: absolute; top: 0; left: 0; width: 0; height: 3px; background: var(--gold); transition: width 0.4s; }
  .service-card:hover { box-shadow: 0 10px 50px rgba(0,0,0,0.08); transform: translateY(-3px); }
  .service-card:hover::after { width: 100%; }
  .service-num { font-family: 'Barlow Condensed', sans-serif; font-size: 0.68rem; font-weight: 600; letter-spacing: 0.3em; color: var(--gold); margin-bottom: 1.8rem; }
  .service-icon { font-size: 1.8rem; margin-bottom: 1.2rem; display: block; }
  .service-title { font-family: 'Barlow Condensed', sans-serif; font-size: 1.1rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: var(--dark); margin-bottom: 0.9rem; }
  .service-desc { font-size: 0.87rem; line-height: 1.8; color: var(--muted); }

  /* PROCESS */
  #process { padding: 9rem 5rem; background: var(--bg); }
  .process-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 6rem; align-items: start; }
  .process-image { position: relative; }
  .process-img { width: 100%; height: 520px; object-fit: cover; filter: grayscale(15%); }
  .process-img-caption { position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(30,28,25,0.85), transparent); padding: 3rem 2rem 2rem; font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; font-style: italic; color: #f5f2ed; }
  .process-steps { display: flex; flex-direction: column; gap: 0; padding-top: 1rem; }
  .process-step { display: flex; gap: 2rem; padding: 2rem 0; border-bottom: 1px solid var(--line-gray); }
  .process-step:last-child { border-bottom: none; }
  .step-num { width: 2.5rem; height: 2.5rem; min-width: 2.5rem; background: var(--gold); color: #fff; font-family: 'Barlow Condensed', sans-serif; font-size: 0.85rem; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-top: 0.1rem; }
  .step-title { font-family: 'Barlow Condensed', sans-serif; font-size: 1rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: var(--dark); margin-bottom: 0.6rem; }
  .step-desc { font-size: 0.87rem; line-height: 1.8; color: var(--muted); }

  /* TESTIMONIALS */
  #testimonials { padding: 9rem 5rem; background: var(--bg2); }
  .testimonials-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 4rem; }
  .testimonials-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
  .testimonial-card { background: var(--white); padding: 2.8rem; border: 1px solid var(--line-gray); transition: box-shadow 0.3s; }
  .testimonial-card:hover { box-shadow: 0 10px 50px rgba(0,0,0,0.07); }
  .testimonial-card.featured { background: var(--dark); }
  .testimonial-card.featured .testimonial-text, .testimonial-card.featured .testimonial-author { color: #f5f2ed; }
  .testimonial-card.featured .testimonial-role { color: rgba(245,242,237,0.5); }
  .stars { color: var(--gold); font-size: 0.85rem; margin-bottom: 1.2rem; letter-spacing: 0.15em; }
  .testimonial-quote { font-family: 'Cormorant Garamond', serif; font-size: 3.5rem; font-weight: 300; color: var(--gold); line-height: 1; margin-bottom: 0.5rem; }
  .testimonial-text { font-family: 'Cormorant Garamond', serif; font-size: 1.08rem; font-style: italic; line-height: 1.78; color: var(--dark); margin-bottom: 2rem; }
  .testimonial-divider { width: 2.5rem; height: 1px; background: var(--gold); margin-bottom: 1.5rem; }
  .testimonial-author { font-family: 'Barlow Condensed', sans-serif; font-size: 0.9rem; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--dark); }
  .testimonial-role { font-size: 0.8rem; color: var(--muted); margin-top: 0.25rem; }

  /* CONTACT */
  #contact { padding: 9rem 5rem; background: var(--bg); display: grid; grid-template-columns: 1fr 1fr; gap: 6rem; align-items: start; }
  .contact-tagline { font-family: 'Cormorant Garamond', serif; font-size: clamp(2rem, 3vw, 2.8rem); font-weight: 300; line-height: 1.2; color: var(--dark); margin-bottom: 1.5rem; }
  .contact-tagline em { font-style: italic; color: var(--gold); }
  .contact-img { width: 100%; height: 220px; object-fit: cover; margin-top: 2.5rem; filter: grayscale(15%); }
  .contact-detail { margin-top: 2.5rem; display: flex; flex-direction: column; gap: 1.3rem; }
  .contact-item { display: flex; gap: 1.2rem; align-items: flex-start; }
  .contact-item-label { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 0.25em; text-transform: uppercase; color: var(--gold); min-width: 75px; padding-top: 2px; }
  .contact-item-val { font-size: 0.93rem; color: var(--muted); }
  .contact-form { display: flex; flex-direction: column; gap: 1.5rem; }
  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
  .form-group { display: flex; flex-direction: column; gap: 0.5rem; }
  .form-label { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 0.25em; text-transform: uppercase; color: var(--muted); }
  .form-input, .form-textarea, .form-select { background: transparent; border: none; border-bottom: 1px solid var(--line-gray); color: var(--dark); font-family: 'Barlow', sans-serif; font-size: 0.95rem; font-weight: 300; padding: 0.75rem 0; outline: none; width: 100%; transition: border-color 0.2s; }
  .form-input:focus, .form-textarea:focus, .form-select:focus { border-color: var(--gold); }
  .form-textarea { resize: none; min-height: 120px; }
  .form-select option { background: var(--white); color: var(--dark); }
  .form-submit { padding: 1.1rem 3rem; background: var(--gold); color: #fff; font-family: 'Barlow Condensed', sans-serif; font-size: 0.85rem; font-weight: 700; letter-spacing: 0.25em; text-transform: uppercase; border: none; cursor: pointer; align-self: flex-start; transition: background 0.2s, transform 0.2s; }
  .form-submit:hover { background: var(--gold-light); transform: translateY(-2px); }

  /* FOOTER */
  footer { background: var(--dark); padding: 4rem 5rem 2.5rem; }
  .footer-top { display: grid; grid-template-columns: 1.5fr 1fr 1fr; gap: 4rem; padding-bottom: 3rem; border-bottom: 1px solid rgba(255,255,255,0.08); }
  .footer-logo { font-family: 'Barlow Condensed', sans-serif; font-size: 1.2rem; font-weight: 700; letter-spacing: 0.22em; color: #f5f2ed; }
  .footer-logo span { color: var(--gold); }
  .footer-tagline { font-size: 0.85rem; color: rgba(245,242,237,0.45); line-height: 1.7; margin-top: 1rem; max-width: 260px; }
  .footer-col-title { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; font-weight: 700; letter-spacing: 0.3em; text-transform: uppercase; color: var(--gold); margin-bottom: 1.5rem; }
  .footer-links-list { list-style: none; display: flex; flex-direction: column; gap: 0.8rem; }
  .footer-links-list a { font-size: 0.88rem; color: rgba(245,242,237,0.5); text-decoration: none; transition: color 0.2s; }
  .footer-links-list a:hover { color: var(--gold); }
  .footer-bottom { display: flex; justify-content: space-between; align-items: center; padding-top: 2rem; }
  .footer-copy { font-size: 0.78rem; color: rgba(245,242,237,0.3); }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     AI CHAT WIDGET
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

  /* Bubble */
  #chat-bubble {
    position: fixed; bottom: 2rem; right: 2rem; z-index: 9999;
    width: 62px; height: 62px; border-radius: 50%;
    background: var(--gold);
    box-shadow: 0 4px 24px rgba(184,148,42,0.45);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; border: none;
    transition: transform 0.2s, box-shadow 0.2s;
    animation: bubblePop 0.5s 2s both;
  }
  #chat-bubble:hover { transform: scale(1.08); box-shadow: 0 6px 32px rgba(184,148,42,0.55); }
  #chat-bubble svg { width: 28px; height: 28px; fill: #fff; }
  #chat-bubble .chat-close-icon { display: none; }
  #chat-bubble.open .chat-open-icon { display: none; }
  #chat-bubble.open .chat-close-icon { display: block; }

  .chat-notif {
    position: absolute; top: -4px; right: -4px;
    width: 18px; height: 18px; border-radius: 50%;
    background: #e85050; border: 2px solid var(--bg);
    animation: pulse 2s infinite;
  }

  /* Panel */
  #chat-panel {
    position: fixed; bottom: 6rem; right: 2rem; z-index: 9998;
    width: 380px; height: 560px;
    background: var(--white);
    border: 1px solid var(--line-gray);
    box-shadow: 0 20px 80px rgba(0,0,0,0.15);
    display: flex; flex-direction: column;
    transform: scale(0.9) translateY(20px);
    transform-origin: bottom right;
    opacity: 0; pointer-events: none;
    transition: transform 0.3s cubic-bezier(0.34,1.56,0.64,1), opacity 0.25s;
  }
  #chat-panel.open { transform: scale(1) translateY(0); opacity: 1; pointer-events: all; }

  .chat-header {
    background: var(--dark); padding: 1.2rem 1.5rem;
    display: flex; align-items: center; gap: 1rem; flex-shrink: 0;
  }
  .chat-avatar {
    width: 38px; height: 38px; border-radius: 50%;
    background: var(--gold);
    display: flex; align-items: center; justify-content: center;
    font-size: 1.1rem; flex-shrink: 0;
  }
  .chat-header-info {}
  .chat-header-name { font-family: 'Barlow Condensed', sans-serif; font-size: 0.9rem; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: #f5f2ed; }
  .chat-header-status { font-size: 0.72rem; color: rgba(245,242,237,0.5); margin-top: 1px; display: flex; align-items: center; gap: 0.4rem; }
  .status-dot { width: 6px; height: 6px; border-radius: 50%; background: #4ade80; display: inline-block; }

  .chat-messages { flex: 1; overflow-y: auto; padding: 1.2rem; display: flex; flex-direction: column; gap: 0.9rem; scroll-behavior: smooth; }
  .chat-messages::-webkit-scrollbar { width: 4px; }
  .chat-messages::-webkit-scrollbar-track { background: transparent; }
  .chat-messages::-webkit-scrollbar-thumb { background: var(--line-gray); border-radius: 2px; }

  .msg { max-width: 82%; display: flex; flex-direction: column; gap: 0.25rem; }
  .msg.agent { align-self: flex-start; }
  .msg.user { align-self: flex-end; }

  .msg-bubble {
    padding: 0.75rem 1rem; font-size: 0.875rem; line-height: 1.6;
    border-radius: 0;
  }
  .msg.agent .msg-bubble { background: var(--bg2); color: var(--dark); border-left: 2px solid var(--gold); }
  .msg.user .msg-bubble { background: var(--gold); color: #fff; }

  .msg-time { font-size: 0.65rem; color: var(--muted); padding: 0 0.25rem; }
  .msg.user .msg-time { text-align: right; }

  .typing-indicator { display: flex; gap: 4px; padding: 0.75rem 1rem; background: var(--bg2); border-left: 2px solid var(--gold); align-self: flex-start; }
  .typing-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--muted); animation: typingBounce 1.2s infinite; }
  .typing-dot:nth-child(2) { animation-delay: 0.2s; }
  .typing-dot:nth-child(3) { animation-delay: 0.4s; }

  .chat-input-area { padding: 1rem; border-top: 1px solid var(--line-gray); display: flex; gap: 0.75rem; align-items: flex-end; flex-shrink: 0; }
  #chat-input { flex: 1; border: 1px solid var(--line-gray); padding: 0.7rem 0.9rem; font-family: 'Barlow', sans-serif; font-size: 0.875rem; color: var(--dark); outline: none; resize: none; min-height: 42px; max-height: 100px; transition: border-color 0.2s; background: var(--bg); }
  #chat-input:focus { border-color: var(--gold); }
  #chat-send { width: 42px; height: 42px; background: var(--gold); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: background 0.2s; }
  #chat-send:hover { background: var(--gold-light); }
  #chat-send svg { width: 18px; height: 18px; fill: #fff; }
  #chat-send:disabled { background: var(--bg3); cursor: not-allowed; }

  /* Saved confirmation */
  .chat-saved-banner {
    background: var(--dark); color: #f5f2ed;
    padding: 1rem 1.2rem; font-size: 0.82rem; line-height: 1.6;
    border-top: 2px solid var(--gold); flex-shrink: 0; display: none;
  }
  .chat-saved-banner.show { display: block; }
  .saved-title { font-family: 'Barlow Condensed', sans-serif; font-size: 0.78rem; font-weight: 700; letter-spacing: 0.2em; text-transform: uppercase; color: var(--gold); margin-bottom: 0.3rem; }

  /* ANIMATIONS */
  @keyframes fadeUp { from { opacity: 0; transform: translateY(28px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes zoomIn { from { transform: scale(1.08); } to { transform: scale(1); } }
  @keyframes bubblePop { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
  @keyframes typingBounce { 0%, 60%, 100% { transform: translateY(0); } 30% { transform: translateY(-6px); } }

  .reveal { opacity: 0; transform: translateY(25px); transition: opacity 0.75s, transform 0.75s; }
  .reveal.visible { opacity: 1; transform: translateY(0); }
  /* Safety fallback: if JS fails, show content after 3s via animation */
  @keyframes fallbackShow { to { opacity: 1; transform: translateY(0); } }
  .reveal { animation: fallbackShow 0.01s 3.5s forwards; }
  .reveal.visible { animation: none; }

  /* RESPONSIVE */
  @media (max-width: 960px) {
    nav { padding: 1.4rem 2rem; }
    .nav-links { display: none; }
    #hero { grid-template-columns: 1fr; min-height: auto; }
    .hero-left { padding: 8rem 2rem 4rem; }
    .hero-right { height: 50vw; }
    .trust-bar { padding: 1.2rem 2rem; flex-wrap: wrap; gap: 1rem; }
    .trust-dot { display: none; }
    #about { padding: 5rem 2rem; }
    .about-grid { grid-template-columns: 1fr; gap: 3rem; }
    .about-img-accent { display: none; }
    .visual-break-overlay { padding: 0 2rem; }
    #services { padding: 5rem 2rem; }
    .services-intro { grid-template-columns: 1fr; gap: 2rem; }
    .services-intro-img { height: 250px; }
    .services-grid { grid-template-columns: 1fr; }
    #process { padding: 5rem 2rem; }
    .process-layout { grid-template-columns: 1fr; gap: 3rem; }
    .process-img { height: 300px; }
    #testimonials { padding: 5rem 2rem; }
    .testimonials-header { flex-direction: column; gap: 1rem; }
    .testimonials-grid { grid-template-columns: 1fr; }
    #contact { grid-template-columns: 1fr; padding: 5rem 2rem; gap: 3rem; }
    .contact-img { display: none; }
    footer { padding: 3rem 2rem 2rem; }
    .footer-top { grid-template-columns: 1fr; gap: 2rem; }
    .footer-bottom { flex-direction: column; gap: 1rem; text-align: center; }
    .form-row { grid-template-columns: 1fr; }
    .divider { margin: 0 2rem; }
    #chat-panel { width: calc(100vw - 2rem); right: 1rem; bottom: 5.5rem; }
  }
</style>
</head>
<body>

<!-- NAV -->
<nav id="navbar">
  <a class="nav-logo" href="#">SUMMIT <span>SOURCING</span></a>
  <ul class="nav-links">
    <li><a href="#about">About</a></li>
    <li><a href="#services">Services</a></li>
    <li><a href="#process">Process</a></li>
    <li><a href="#testimonials">Testimonials</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
</nav>

<!-- HERO -->
<section id="hero">
  <div class="hero-left">
    <div class="hero-img-bg"></div>
    <div class="hero-bg-overlay"></div>
    <div class="hero-content">
      <p class="hero-eyebrow">Morocco ‚Äî China Sourcing ‚Äî Worldwide Delivery</p>
      <h1 class="hero-title">Your Global<br><em>Sourcing Partner</em></h1>
      <p class="hero-sub">Based in Morocco, Summit Sourcing Co. connects businesses worldwide with elite Chinese manufacturers ‚Äî expert consulting, rigorous quality control, and door-to-door shipping.</p>
      <div class="hero-cta">
        <a href="#contact" class="btn-primary">Start Sourcing</a>
        <a href="#services" class="btn-ghost">Our Services</a>
      </div>
    </div>
  </div>
  <div class="hero-right">
    <img class="hero-right-img" src="https://images.unsplash.com/photo-1578575437130-527eed3abbec?w=900&q=80" alt="Cargo shipping containers at port"/>
    <div class="hero-right-overlay"></div>
    <div class="hero-badge">
      <div class="hero-badge-num">98%</div>
      <div class="hero-badge-label">On-Time Delivery Rate</div>
    </div>
  </div>
</section>

<!-- TRUST BAR -->
<div class="trust-bar">
  <div class="trust-item"><span>‚úì</span> Morocco Registered</div>
  <div class="trust-dot"></div>
  <div class="trust-item"><span>‚úì</span> 150+ Verified Chinese Factories</div>
  <div class="trust-dot"></div>
  <div class="trust-item"><span>‚úì</span> On-Site Quality Inspections</div>
  <div class="trust-dot"></div>
  <div class="trust-item"><span>‚úì</span> End-to-End Shipping</div>
  <div class="trust-dot"></div>
  <div class="trust-item"><span>‚úì</span> 50+ Countries Served</div>
</div>

<!-- ABOUT -->
<section id="about">
  <div class="about-grid">
    <div class="reveal">
      <p class="section-label">About Us</p>
      <h2 class="section-heading">Bridging ambition<br>with <em>precision</em></h2>
      <p class="about-text">Registered in Morocco, Summit Sourcing Co. is your trusted sourcing partner between the world and China's best manufacturers. We provide expert consulting and hands-on management ‚Äî from identifying the right factory to delivering your goods anywhere on the globe.</p>
      <p class="about-text" style="margin-top:1rem;">We don't just find suppliers ‚Äî we audit them, negotiate on your behalf, perform on-site quality checks, and manage the full shipping process so you receive exactly what you envisioned, at the most competitive price.</p>
      <div class="about-stats">
        <div class="stat"><div class="stat-num">500+</div><div class="stat-label">Products Sourced</div></div>
        <div class="stat"><div class="stat-num">150+</div><div class="stat-label">Chinese Factories</div></div>
        <div class="stat"><div class="stat-num">98%</div><div class="stat-label">On-Time Delivery</div></div>
        <div class="stat"><div class="stat-num">50+</div><div class="stat-label">Countries Served</div></div>
      </div>
    </div>
    <div class="about-image-block reveal">
      <img class="about-img-main" src="https://images.unsplash.com/photo-1533750349088-cd871a92f312?w=800&q=80" alt="Manufacturing production line"/>
      <img class="about-img-accent" src="https://images.unsplash.com/photo-1553413077-190dd305871c?w=500&q=80" alt="Warehouse logistics"/>
      <div class="about-img-tag">Est. Morocco</div>
    </div>
  </div>
</section>

<!-- VISUAL BREAK 1 -->
<div class="visual-break">
  <img src="https://images.unsplash.com/photo-1494412574643-ff11b0a5c1c3?w=1600&q=80" alt="Cargo ship at sea"/>
  <div class="visual-break-overlay">
    <p class="visual-break-text">From factory floors in China<br>to <em>doorsteps worldwide</em></p>
  </div>
</div>

<!-- SERVICES -->
<section id="services">
  <div class="services-intro reveal">
    <div>
      <p class="section-label">What We Do</p>
      <h2 class="section-heading">Our <em>Services</em></h2>
      <p style="color:var(--muted);font-size:0.95rem;line-height:1.85;margin-top:1.5rem;">We offer a comprehensive suite of sourcing and logistics services ‚Äî covering every stage from initial consulting to final delivery. One partner. The entire journey.</p>
    </div>
    <img class="services-intro-img" src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&q=80" alt="Quality inspection manufacturing"/>
  </div>
  <div class="services-grid">
    <div class="service-card reveal">
      <div class="service-num">01</div><span class="service-icon">ü§ù</span>
      <h3 class="service-title">Sourcing Consulting</h3>
      <p class="service-desc">We advise you on the best sourcing strategy for your product, budget, and market ‚Äî guiding every decision from concept to factory selection with deep expertise in Chinese manufacturing.</p>
    </div>
    <div class="service-card reveal">
      <div class="service-num">02</div><span class="service-icon">üîç</span>
      <h3 class="service-title">Factory Identification</h3>
      <p class="service-desc">We identify and rigorously audit verified Chinese factories from our established network, matching your exact product requirements with the right production partner at the best market price.</p>
    </div>
    <div class="service-card reveal">
      <div class="service-num">03</div><span class="service-icon">üí∞</span>
      <h3 class="service-title">Price Negotiation</h3>
      <p class="service-desc">Leveraging deep factory relationships and market expertise, we negotiate the most competitive prices on your behalf ‚Äî maximum value without compromising on quality or lead times.</p>
    </div>
    <div class="service-card reveal">
      <div class="service-num">04</div><span class="service-icon">‚úÖ</span>
      <h3 class="service-title">Quality Control</h3>
      <p class="service-desc">Our team conducts rigorous on-site inspections throughout production and pre-shipment ‚Äî guaranteeing every unit meets your exact specifications before leaving the factory floor.</p>
    </div>
    <div class="service-card reveal">
      <div class="service-num">05</div><span class="service-icon">‚öôÔ∏è</span>
      <h3 class="service-title">Product Development</h3>
      <p class="service-desc">From prototype to production-ready, we guide your product through sampling, engineering refinements, and material selection until every detail perfectly matches your vision.</p>
    </div>
    <div class="service-card reveal">
      <div class="service-num">06</div><span class="service-icon">üö¢</span>
      <h3 class="service-title">Shipping & Logistics</h3>
      <p class="service-desc">We handle the complete shipping process from China ‚Äî freight forwarding, customs documentation, and last-mile delivery ‚Äî so your goods arrive anywhere in the world, on time.</p>
    </div>
  </div>
</section>

<!-- PROCESS -->
<section id="process">
  <div class="process-layout">
    <div class="process-image reveal">
      <img class="process-img" src="https://images.unsplash.com/photo-1565043589221-1a6fd9ae45c7?w=800&q=80" alt="Manufacturing factory"/>
      <div class="process-img-caption">Precision at every stage of production</div>
    </div>
    <div class="reveal">
      <p class="section-label">How It Works</p>
      <h2 class="section-heading" style="margin-bottom:2rem;">Our <em>Process</em></h2>
      <div class="process-steps">
        <div class="process-step"><div class="step-num">01</div><div class="step-body"><h3 class="step-title">Consulting</h3><p class="step-desc">We start with a deep consultation to understand your product, market, budget, and timeline ‚Äî then build a tailored sourcing strategy.</p></div></div>
        <div class="process-step"><div class="step-num">02</div><div class="step-body"><h3 class="step-title">Factory Match</h3><p class="step-desc">We shortlist and audit qualified Chinese factories, presenting you the best options with full capability reports.</p></div></div>
        <div class="process-step"><div class="step-num">03</div><div class="step-body"><h3 class="step-title">Negotiation</h3><p class="step-desc">We negotiate pricing, MOQs, lead times, and payment terms on your behalf ‚Äî securing the most competitive deal available.</p></div></div>
        <div class="process-step"><div class="step-num">04</div><div class="step-body"><h3 class="step-title">Quality Check</h3><p class="step-desc">On-site inspections during and after production ensure every unit meets your exact quality standards before shipment.</p></div></div>
        <div class="process-step"><div class="step-num">05</div><div class="step-body"><h3 class="step-title">Delivery</h3><p class="step-desc">We manage freight, customs, and final delivery until your goods safely reach their destination anywhere in the world.</p></div></div>
      </div>
    </div>
  </div>
</section>

<!-- VISUAL BREAK 2 -->
<div class="visual-break" style="height:45vh;">
  <img src="https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?w=1600&q=80" alt="Industrial manufacturing"/>
  <div class="visual-break-overlay">
    <p class="visual-break-text">Quality you can <em>trust</em>.<br>Prices you'll love.</p>
  </div>
</div>

<!-- TESTIMONIALS -->
<section id="testimonials">
  <div class="testimonials-header reveal">
    <div>
      <p class="section-label">Client Stories</p>
      <h2 class="section-heading">What Our<br><em>Clients Say</em></h2>
    </div>
    <p style="color:var(--muted);font-size:0.88rem;max-width:280px;line-height:1.75;text-align:right;">Trusted by businesses across Morocco, Europe, the Gulf, and beyond.</p>
  </div>
  <div class="testimonials-grid">
    <div class="testimonial-card featured reveal">
      <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <div class="testimonial-quote">"</div>
      <p class="testimonial-text">Summit Sourcing Co. made our first China sourcing experience completely seamless. They found us a factory that matched our quality standards perfectly and negotiated prices we couldn't have achieved on our own.</p>
      <div class="testimonial-divider"></div>
      <div class="testimonial-author">Karim El Fassi</div>
      <div class="testimonial-role">CEO, Maison Kenza ‚Äî Casablanca, Morocco</div>
    </div>
    <div class="testimonial-card reveal">
      <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <div class="testimonial-quote">"</div>
      <p class="testimonial-text">Their quality control process is exceptional. Every inspection report was thorough, and our goods arrived exactly as specified ‚Äî no surprises. We've now sourced three product lines through Summit Sourcing Co.</p>
      <div class="testimonial-divider"></div>
      <div class="testimonial-author">Sophie Marchand</div>
      <div class="testimonial-role">Operations Director, Atelier Sud ‚Äî Paris, France</div>
    </div>
    <div class="testimonial-card reveal">
      <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <div class="testimonial-quote">"</div>
      <p class="testimonial-text">What impressed me most was their end-to-end shipping service. From factory floor in Guangzhou to our warehouse in Dubai ‚Äî fully handled. Professional, responsive, and genuinely invested in your success.</p>
      <div class="testimonial-divider"></div>
      <div class="testimonial-author">Ahmed Al-Rashidi</div>
      <div class="testimonial-role">Founder, Rashidi Trading ‚Äî Dubai, UAE</div>
    </div>
    <div class="testimonial-card reveal">
      <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <div class="testimonial-quote">"</div>
      <p class="testimonial-text">Their consulting was clear, honest, and strategic ‚Äî they helped us reduce production costs by over 30% while improving quality. An indispensable partner for any business looking to source from China.</p>
      <div class="testimonial-divider"></div>
      <div class="testimonial-author">Youssef Benali</div>
      <div class="testimonial-role">Managing Director, Benali Group ‚Äî Rabat, Morocco</div>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section id="contact">
  <div class="contact-info reveal">
    <p class="section-label">Get In Touch</p>
    <h2 class="contact-tagline">Ready to source<br>your next <em>product?</em></h2>
    <p style="color:var(--muted);font-size:0.93rem;line-height:1.85;margin-top:1rem;">Tell us about your project and we'll respond within 24 hours with a tailored sourcing plan.</p>
    <img class="contact-img" src="https://images.unsplash.com/photo-1521737852567-6949f3f9f2b5?w=800&q=80" alt="Business meeting"/>
    <div class="contact-detail">
      <div class="contact-item"><span class="contact-item-label">Email</span><span class="contact-item-val">hello@summitsourcingco.com</span></div>
      <div class="contact-item"><span class="contact-item-label">Phone</span><span class="contact-item-val">+212 (0) 000-000000</span></div>
      <div class="contact-item"><span class="contact-item-label">HQ</span><span class="contact-item-val">Morocco</span></div>
      <div class="contact-item"><span class="contact-item-label">Factories</span><span class="contact-item-val">China ‚Äî Multiple Regions</span></div>
      <div class="contact-item"><span class="contact-item-label">Delivery</span><span class="contact-item-val">Worldwide</span></div>
    </div>
  </div>
  <form class="contact-form reveal" onsubmit="handleSubmit(event)">
    <div class="form-row">
      <div class="form-group"><label class="form-label">First Name</label><input class="form-input" type="text" placeholder="John" required/></div>
      <div class="form-group"><label class="form-label">Last Name</label><input class="form-input" type="text" placeholder="Doe" required/></div>
    </div>
    <div class="form-group"><label class="form-label">Email</label><input class="form-input" type="email" placeholder="you@company.com" required/></div>
    <div class="form-group"><label class="form-label">Country</label><input class="form-input" type="text" placeholder="Your country"/></div>
    <div class="form-group">
      <label class="form-label">Service Needed</label>
      <select class="form-select">
        <option value="">Select a service...</option>
        <option>Sourcing Consulting</option>
        <option>Factory Identification</option>
        <option>Price Negotiation</option>
        <option>Quality Control</option>
        <option>Product Development</option>
        <option>Shipping & Logistics</option>
        <option>Full End-to-End Service</option>
      </select>
    </div>
    <div class="form-group"><label class="form-label">Tell Us About Your Product</label><textarea class="form-textarea" placeholder="Describe your product, quantity, budget, and any specific requirements..." required></textarea></div>
    <button type="submit" class="form-submit">Send Enquiry</button>
  </form>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-top">
    <div>
      <div class="footer-logo">SUMMIT <span>SOURCING CO.</span></div>
      <p class="footer-tagline">Your trusted sourcing partner between the world and China's best manufacturers. Registered in Morocco. Delivering worldwide.</p>
    </div>
    <div>
      <div class="footer-col-title">Services</div>
      <ul class="footer-links-list">
        <li><a href="#services">Sourcing Consulting</a></li>
        <li><a href="#services">Factory Identification</a></li>
        <li><a href="#services">Quality Control</a></li>
        <li><a href="#services">Shipping & Logistics</a></li>
      </ul>
    </div>
    <div>
      <div class="footer-col-title">Company</div>
      <ul class="footer-links-list">
        <li><a href="#about">About Us</a></li>
        <li><a href="#process">Our Process</a></li>
        <li><a href="#testimonials">Testimonials</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom">
    <p class="footer-copy">¬© 2025 Summit Sourcing Co. All rights reserved. Registered in Morocco.</p>
    <p class="footer-copy">Morocco ‚Üí China ‚Üí World</p>
  </div>
</footer>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     AI CHAT WIDGET
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<button id="chat-bubble" onclick="toggleChat()" aria-label="Open chat">
  <div class="chat-notif" id="chat-notif"></div>
  <!-- Open icon -->
  <svg class="chat-open-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 10H6V10h12v2zm0-3H6V7h12v2z"/>
  </svg>
  <!-- Close icon -->
  <svg class="chat-close-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
  </svg>
</button>

<div id="chat-panel">
  <div class="chat-header">
    <div class="chat-avatar">ü§ñ</div>
    <div class="chat-header-info">
      <div class="chat-header-name">Summit AI Assistant</div>
      <div class="chat-header-status"><span class="status-dot"></span> Online ‚Äî typically replies instantly</div>
    </div>
  </div>
  <div class="chat-messages" id="chat-messages"></div>
  <div class="chat-saved-banner" id="saved-banner">
    <div class="saved-title">‚úì Enquiry Saved</div>
    Thank you! Your requirements have been recorded. Our sourcing team will review your needs and get back to you within 24 hours.
  </div>
  <div class="chat-input-area">
    <textarea id="chat-input" placeholder="Type your message..." rows="1" onkeydown="handleKey(event)" oninput="autoResize(this)"></textarea>
    <button id="chat-send" onclick="sendMessage()" aria-label="Send">
      <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
    </button>
  </div>
</div>

<script>
  // ‚îÄ‚îÄ Site scripts ‚îÄ‚îÄ
  const navbar = document.getElementById('navbar');
  window.addEventListener('scroll', () => {
    navbar.classList.toggle('scrolled', window.scrollY > 60);
  });

  const reveals = document.querySelectorAll('.reveal');
  // Safety net: force all reveals visible after 4s in case IntersectionObserver fails
  setTimeout(() => { reveals.forEach(r => r.classList.add('visible')); }, 4000);
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach((e, i) => {
      if (e.isIntersecting) {
        setTimeout(() => e.target.classList.add('visible'), i * 90);
        revealObserver.unobserve(e.target);
      }
    });
  }, { threshold: 0.07 });
  reveals.forEach(r => revealObserver.observe(r));

  function handleSubmit(e) {
    e.preventDefault();
    const btn = e.target.querySelector('.form-submit');
    btn.textContent = 'Message Sent ‚úì';
    btn.style.background = '#4a9c5c';
    setTimeout(() => { btn.textContent = 'Send Enquiry'; btn.style.background = ''; e.target.reset(); }, 3000);
  }

  // ‚îÄ‚îÄ Chat Widget ‚îÄ‚îÄ
  let chatOpen = false;
  let isLoading = false;
  let conversationHistory = [];
  let enquiryData = {};
  let enquirySaved = false;

  const SYSTEM_PROMPT = `You are a friendly and professional AI sourcing assistant for Summit Sourcing Co., a Morocco-based company that sources products from Chinese factories and delivers worldwide.

Your goal is to have a warm, natural conversation to understand exactly what the client needs. Collect the following information through conversational questions (one or two at a time, never all at once):

1. Their name and email address
2. The type of product they want to source (description, materials, specifications)
3. Their budget range (approximate, in USD or their preferred currency)
4. Their timeline / urgency (when do they need it?)

Guidelines:
- Be warm, professional, and concise
- Ask follow-up questions naturally based on their answers
- Once you have collected ALL four pieces of information (name+email, product, budget, timeline), provide a brief friendly summary of what they've shared and tell them the team will be in touch within 24 hours
- End your final message with exactly this token on a new line: [ENQUIRY_COMPLETE]
- Do not ask for information already provided
- Keep responses short (2-4 sentences max)
- You represent a premium sourcing company ‚Äî be confident and knowledgeable

Start by greeting the visitor warmly and asking what product they're looking to source.`;

  function toggleChat() {
    chatOpen = !chatOpen;
    const panel = document.getElementById('chat-panel');
    const bubble = document.getElementById('chat-bubble');
    const notif = document.getElementById('chat-notif');

    panel.classList.toggle('open', chatOpen);
    bubble.classList.toggle('open', chatOpen);

    if (chatOpen) {
      notif.style.display = 'none';
      if (conversationHistory.length === 0) {
        initChat();
      }
      setTimeout(() => document.getElementById('chat-input').focus(), 300);
    }
  }

  async function initChat() {
    showTyping();
    const greeting = await callClaude([]);
    hideTyping();
    addMessage('agent', greeting);
  }

  function addMessage(role, text) {
    const msgs = document.getElementById('chat-messages');
    const now = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

    // Check for completion token
    const isComplete = text.includes('[ENQUIRY_COMPLETE]');
    const cleanText = text.replace('[ENQUIRY_COMPLETE]', '').trim();

    const div = document.createElement('div');
    div.className = `msg ${role}`;
    div.innerHTML = `<div class="msg-bubble">${cleanText.replace(/\n/g, '<br>')}</div><div class="msg-time">${now}</div>`;
    msgs.appendChild(div);
    msgs.scrollTop = msgs.scrollHeight;

    if (role === 'assistant') {
      conversationHistory.push({ role: 'assistant', content: cleanText });
    }

    if (isComplete && !enquirySaved) {
      enquirySaved = true;
      saveEnquiry();
    }
  }

  function showTyping() {
    const msgs = document.getElementById('chat-messages');
    const div = document.createElement('div');
    div.className = 'msg agent';
    div.id = 'typing-indicator';
    div.innerHTML = '<div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>';
    msgs.appendChild(div);
    msgs.scrollTop = msgs.scrollHeight;
  }

  function hideTyping() {
    const t = document.getElementById('typing-indicator');
    if (t) t.remove();
  }

  async function sendMessage() {
    const input = document.getElementById('chat-input');
    const text = input.value.trim();
    if (!text || isLoading || enquirySaved) return;

    input.value = '';
    input.style.height = 'auto';
    addMessage('user', text);
    conversationHistory.push({ role: 'user', content: text });

    isLoading = true;
    document.getElementById('chat-send').disabled = true;
    showTyping();

    const reply = await callClaude(conversationHistory);
    hideTyping();
    addMessage('agent', reply);

    isLoading = false;
    document.getElementById('chat-send').disabled = false;
    if (!enquirySaved) input.focus();
  }

  async function callClaude(messages) {
    try {
      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 1000,
          system: SYSTEM_PROMPT,
          messages: messages.length > 0 ? messages : [{ role: 'user', content: 'Hello' }]
        })
      });
      const data = await response.json();
      return data.content?.[0]?.text || "I'm sorry, I couldn't process that. Please try again.";
    } catch (err) {
      return "I'm having trouble connecting right now. Please use the contact form below or email us directly at hello@summitsourcingco.com";
    }
  }

  async function extractSummary() {
    try {
      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          model: 'claude-sonnet-4-20250514',
          max_tokens: 500,
          system: 'You extract structured data from chat conversations. Reply ONLY with a JSON object, no markdown, no extra text.',
          messages: [{
            role: 'user',
            content: `Extract the following from this conversation and return ONLY as a raw JSON object with keys: name, email, product, budget, timeline. If a field was not mentioned use "Not provided".\n\nConversation:\n${conversationHistory.map(m => (m.role === 'user' ? 'Client' : 'Assistant') + ': ' + m.content).join('\n')}`
          }]
        })
      });
      const data = await response.json();
      const raw = data.content?.[0]?.text || '{}';
      return JSON.parse(raw.replace(/```json|```/g, '').trim());
    } catch(e) {
      return { name: 'Unknown', email: 'Unknown', product: 'Unknown', budget: 'Unknown', timeline: 'Unknown' };
    }
  }

  async function saveEnquiry() {
    const summary = await extractSummary();
    const timestamp = new Date().toLocaleString('en-GB', { dateStyle: 'full', timeStyle: 'short' });

    // Send via EmailJS ‚Äî free service (200 emails/month)
    try {
      await emailjs.send('summit_service', 'summit_enquiry', {
        to_email:     'youssefmastour78@gmail.com',
        sent_at:      timestamp,
        client_name:  summary.name     || 'Not provided',
        client_email: summary.email    || 'Not provided',
        product:      summary.product  || 'Not provided',
        budget:       summary.budget   || 'Not provided',
        timeline:     summary.timeline || 'Not provided'
      });
    } catch(e) {
      console.warn('EmailJS not configured yet. Set up at emailjs.com:', e);
    }

    // Show saved banner regardless
    setTimeout(() => {
      const banner = document.getElementById('saved-banner');
      banner.classList.add('show');
      document.getElementById('chat-input').disabled = true;
      document.getElementById('chat-send').disabled = true;
      document.getElementById('chat-input').placeholder = 'Enquiry submitted ‚Äî our team will be in touch!';
    }, 1200);
  }

  function handleKey(e) {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendMessage();
    }
  }

  function autoResize(el) {
    el.style.height = 'auto';
    el.style.height = Math.min(el.scrollHeight, 100) + 'px';
  }

  // Show notif dot after 3s to draw attention
  setTimeout(() => {
    if (!chatOpen) {
      document.getElementById('chat-notif').style.display = 'block';
    }
  }, 3000);
</script>
</body>
</html>
